<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap core CSS -->
    <link href="/webjars/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/webjars/open-iconic/font/css/open-iconic-bootstrap.min.css" rel="stylesheet" />

    <link href="/css/style.css" rel="stylesheet">

    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/webjars/jquery/jquery.min.js"></script>
    <script src="/webjars/jquery-mask-plugin/dist/jquery.mask.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="/webjars/bootstrap/js/bootstrap.min.js"></script>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Viaoda+Libre&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

    <title>Heigostoso</title>

</head>

<body class="bg-uva">

    <div class="container">
        <header th:replace="/fragments/header :: header">
            <div>header</div>
        </header>

        <div class="photoMainRecipe">
            <a href="/">
                <button id="returnHome" type="button">
                    <img src="/img/icons/arrow-left.svg" alt="voltar" />
                </button>
            </a>

            <img th:src="${recipe.image}">

            <a href="#">
                <button id="nextRecipe" type="button">
                    <img src="/img/icons/arrow-left.svg" alt="Próxima receita" />
                </button>
            </a>

        </div>

        <main>


            <section class="content p-2">
                <h1 class="title-sections" th:text="${recipe.name}">Título da receita</h1>
                <hr>
                <div class="containerInfoRecipes">

                    <!-- Small Infos Recipes -->
                    <div class="row">
                        <div class="col-lg-12 info" tabindex="0">

                            <div class="recipe-data clearfix recipe-info-box row">
                                <!--Chef-->
                                <div class="clock block card-info-recipes col-lg-2">
                                    <div class="ico-svg ico-orange svg-small">
                                        <img src="/img/icons/ico_chef.png">
                                    </div>
                                    <span class="label">
                                        Chef:
                                    </span>
                                    <span class="num preptime" th:text="${recipe.user.name}">

                                    </span>
                                </div>
                                <!--Time-->
                                <div class="clock block card-info-recipes col-lg-2">
                                    <div class="ico-svg ico-orange svg-small">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"
                                            viewBox="0 0 24 24">
                                            <defs>
                                                <clipPath id="b">
                                                    <rect width="24" height="24"></rect>
                                                </clipPath>
                                            </defs>
                                            <g id="a" clip-path="url(#b)">
                                                <path d="M0,0H24V24H0Z" fill="none"></path>
                                                <path
                                                    d="M22,5.7,17.4,1.8,16.1,3.3l4.6,3.9ZM7.9,3.4,6.6,1.9,2,5.7,3.3,7.2,7.9,3.4ZM12.5,8H11v6l4.7,2.9.8-1.2-4-2.4ZM12,4a9,9,0,1,0,9,9A8.963,8.963,0,0,0,12,4Zm0,16a7,7,0,1,1,7-7A6.957,6.957,0,0,1,12,20Z"
                                                    transform="translate(0 0.2)"></path>
                                                <path d="M0,0H24V24H0Z" fill="none"></path>
                                            </g>
                                        </svg>
                                    </div>
                                    <span class="label">
                                        Preparo:
                                    </span>
                                    <span class="num preptime">
                                        <time class="dt-duration" datetime="PT25M" itemprop="totalTime">
                                            <span th:text="${recipe.cookingTime} + MIN"></span>
                                        </time>
                                    </span>
                                </div>
                                <!--Rendiment-->
                                <div class="serve block card-info-recipes col-lg-2">
                                    <div class="ico-svg ico-orange svg-small">
                                        <svg xmlns="http://www.w3.org/2000/svg"
                                            xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"
                                            viewBox="0 0 24 24">
                                            <defs>
                                                <clipPath id="b">
                                                    <rect width="24" height="24"></rect>
                                                </clipPath>
                                            </defs>
                                            <g id="a" clip-path="url(#b)">
                                                <path d="M0,0H24V24H0Z" fill="none"></path>
                                                <path d="M0,0H24V24H0Z" fill="none"></path>
                                                <g transform="translate(2 4)">
                                                    <path
                                                        d="M18.688,11.313A8.881,8.881,0,0,0,12,3.938,2.228,2.228,0,0,0,12.5,2.5a2.5,2.5,0,0,0-5,0A2.543,2.543,0,0,0,8,4a8.806,8.806,0,0,0-6.687,7.375A1.764,1.764,0,0,0,0,13.125,1.842,1.842,0,0,0,1.875,15h16.25A1.842,1.842,0,0,0,20,13.125,1.9,1.9,0,0,0,18.688,11.313ZM10,1.25A1.25,1.25,0,1,1,8.75,2.5,1.254,1.254,0,0,1,10,1.25ZM10,5a7.463,7.463,0,0,1,7.375,6.25H2.625A7.463,7.463,0,0,1,10,5Zm8.125,8.75H1.875a.625.625,0,0,1,0-1.25h16.25a.625.625,0,0,1,0,1.25Z">
                                                    </path>
                                                    <path
                                                        d="M15.625,10a.625.625,0,0,0,0,1.25h0A4.91,4.91,0,0,1,19.75,13.5a.633.633,0,0,0,1.063-.687A6.289,6.289,0,0,0,15.625,10Z"
                                                        transform="translate(-5.625 -3.75)"></path>
                                                </g>
                                            </g>
                                        </svg>
                                    </div>
                                    <span class="label">Rendimento: </span>
                                    <span class="p-yield num yield" th:text="${recipe.portions}">

                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--Ingredients-->
                    <div id="ingredients" class="row mt-4">
                        <div class="col">
                            <div class="card">
                                <div class="card-header">
                                    <div class="right">
                                        <i id="controlCardIngredients" class="bi bi-dash-square-fill"></i>
                                    </div>
                                    <h2>Ingredientes</h2>
                                </div>
                                <div id="body-ingredients" class="card-body">
                                    <div th:each="ingredient : ${recipe.ingredientsList}">
                                        <input class="boxestilizado" type="checkbox"  th:id="${ingredient.id}">
                                        <label th:for="${ingredient.id}" th:text="${ingredient.description}">Ingrediente</label>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- DIY  -->
                    <div id="diy" class="row mt-4 mb-4">
                        <div class="col">
                            <div class="card">
                                <div class="card-header">
                                    <div class="right">
                                        <i id="controlCardDIY" class="bi bi-dash-square-fill"></i>
                                    </div>
                                    <h2>Modo de Preparo</h2>
                                </div>
                                <div id="body-diy" class="card-body">
                                    <div th:each="instruction : ${recipe.instructionsList}">
                                        <input class="boxestilizado" type="checkbox"  th:id="${instruction.id}">
                                        <label th:for="${instruction.id}" th:text="${instruction.description}">Instruction</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="content-avaliation">
                    <div>
                        <span>Avalie essa receita!</span>
                        <p>Gostoso / Muito Gostoso</p>
                        <div>
                            <img id="likeIcon" src="/img/icons/gosto.png" alt="">
                            <img id="heartIcon" src="/img/icons/Heart_Icon.png" alt="">
                        </div>
                    </div>
                </div>

            </section>

            <!-- Comments -->
            <section class="content mt-4 p-2">
                <!-- Comment User Logged-->
                <div class="card card-comments">
                    <div>
                        <h3>Deixe seu comentário!</h3>
                        <form th:action="@{/comentarios/salvar}" th:object = "${comment}" method="POST" class="was-validated">
                           <input type="hidden" id="id_recipe" th:field="*{recipe}">
                           <input type="hidden" id="id_user" th:field="*{user}">
                           <input type="hidden" id="dateTime" th:field="*{dateTime}">
                            <div class="form-group d-flex p-3">
                                <label for="commentAboutThis">Escreva aqui</label>
                                <textarea class="form-control is-valid" id="commentAboutThis"
                                    placeholder="Deixe sua mensagem" th:field="*{text}" required></textarea>
                                <button class="btn btn-orange ml-2" type="submit">Enviar</button>
                            </div>
                        </form>
                    </div>
                </div>
                <!-- Comments All Users-->
                <div class="card card-comments">
                    <section class="comments">
                        <div th:each="{commentUser : ${recipe.commentsList}">
                        <article class="comment">
                            <a class="comment-img" href="#">
                                <img src="https://github.com/bleinermathias.png" alt="" width="86" height="86">
                            </a>
                            <div class="comment-body">
                                <div class="text">
                                    <p>Um comentário</p>
                                </div>
                                <p class="attribution">por <a href="#">Usuario</a> <span th:text="{commentUser.dateTime}"></span></p>
                            </div>

                        </article>
                        </div>

                    </section>
                </div>

            </section>

        </main>

    </div>

    <!-- Footer -->
    <footer th:replace="fragments/footer :: footer">
        <div>footer</div>
    </footer>
    <!-- Footer -->

</body>

</html>